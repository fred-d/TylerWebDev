{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _IntentsFormDataJs = require('./../Intents/formData.js');\n\nvar Cause = (function (_React$Component) {\n    _inherits(Cause, _React$Component);\n\n    function Cause() {\n        _classCallCheck(this, Cause);\n\n        _get(Object.getPrototypeOf(Cause.prototype), 'constructor', this).apply(this, arguments);\n    }\n\n    _createClass(Cause, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.refs.input.getDOMNode().focus();\n        }\n    }, {\n        key: 'change',\n        value: function change(event) {\n            (0, _IntentsFormDataJs.set)('cause', event.target.value);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return React.createElement(\n                'label',\n                null,\n                this.props.error || 'Your Cause - Why do you deserve a free site?',\n                React.createElement('textarea', { ref: 'input', name: 'cause', onChange: this.change, value: this.props.formValue })\n            );\n        }\n    }]);\n\n    return Cause;\n})(React.Component);\n\nexports['default'] = Cause;\nmodule.exports = exports['default'];\n\n},{\"./../Intents/formData.js\":6}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _IntentsFormDataJs = require('./../Intents/formData.js');\n\nvar Email = (function (_React$Component) {\n    _inherits(Email, _React$Component);\n\n    function Email() {\n        _classCallCheck(this, Email);\n\n        _get(Object.getPrototypeOf(Email.prototype), 'constructor', this).apply(this, arguments);\n    }\n\n    _createClass(Email, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.refs.input.getDOMNode().focus();\n        }\n    }, {\n        key: 'change',\n        value: function change(event) {\n            (0, _IntentsFormDataJs.set)('email', event.target.value);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return React.createElement(\n                'label',\n                null,\n                this.props.error || 'Email Address',\n                React.createElement('input', { ref: 'input', type: 'text', name: 'email', onChange: this.change, value: this.props.formValue })\n            );\n        }\n    }]);\n\n    return Email;\n})(React.Component);\n\nexports['default'] = Email;\nmodule.exports = exports['default'];\n\n},{\"./../Intents/formData.js\":6}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _IntentsNextStepJs = require('./../Intents/nextStep.js');\n\nvar _IntentsSubmitJs = require('./../Intents/submit.js');\n\nvar Form = (function (_React$Component) {\n    _inherits(Form, _React$Component);\n\n    function Form() {\n        var _this = this;\n\n        _classCallCheck(this, Form);\n\n        _get(Object.getPrototypeOf(Form.prototype), 'constructor', this).apply(this, arguments);\n\n        this.trySubmit = function (event) {\n            event.preventDefault();\n            (0, _IntentsSubmitJs.submit)(_this.props.formData);\n        };\n    }\n\n    _createClass(Form, [{\n        key: 'goToNext',\n        value: function goToNext(event) {\n            event.preventDefault();\n            (0, _IntentsNextStepJs.nextStep)();\n        }\n    }, {\n        key: 'goToPrev',\n        value: function goToPrev(event) {\n            event.preventDefault();\n            (0, _IntentsNextStepJs.prevStep)();\n        }\n    }, {\n        key: 'checkForEnter',\n        value: function checkForEnter(event) {\n            event.preventDefault();\n            (0, _IntentsNextStepJs.nextStep)();\n        }\n    }, {\n        key: 'goDirectlyTo',\n        value: function goDirectlyTo(step) {\n            return function (event) {\n                event.preventDefault;\n                (0, _IntentsNextStepJs.goTo)(step);\n            };\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var hasNext = this.props.currentStep < this.props.steps.length - 1;\n            var hasPrev = this.props.currentStep > 0;\n            var canSubmit = this.props.currentStep === this.props.steps.length - 1 || this.props.canSubmit;\n            var activeStep = this.props.steps[this.props.currentStep];\n            var ActiveStepComponent = activeStep.component;\n\n            if (!this.props.formComplete) {\n                return React.createElement(\n                    'div',\n                    { className: 'form-with-progress' },\n                    React.createElement(\n                        'ol',\n                        { className: 'progress' },\n                        this.props.steps.map(function (step, i) {\n                            var className = [];\n\n                            if (_this2.props.currentStep === i) className.push('active');\n                            if (step.error) className.push('error');\n\n                            return React.createElement('li', { onClick: _this2.goDirectlyTo(i), className: className.join(' ') });\n                        })\n                    ),\n                    React.createElement(\n                        'form',\n                        { action: '#', onSubmit: this.checkForEnter },\n                        React.createElement(ActiveStepComponent, { formValue: this.props.formData[activeStep.name], error: activeStep.error, animation: this.props.animation }),\n                        React.createElement(\n                            'div',\n                            { className: 'buttons' },\n                            React.createElement(\n                                'a',\n                                { disabled: !hasPrev, className: 'button small', onClick: this.goToPrev },\n                                'Previous'\n                            ),\n                            React.createElement(\n                                'a',\n                                { disabled: !hasNext, className: 'button small', onClick: this.goToNext },\n                                'Next'\n                            ),\n                            React.createElement(\n                                'a',\n                                { disabled: !canSubmit, className: 'button small submit', onClick: this.trySubmit },\n                                'Submit'\n                            )\n                        )\n                    )\n                );\n            } else {\n                return React.createElement(\n                    'section',\n                    null,\n                    React.createElement(\n                        'h2',\n                        null,\n                        React.createElement(\n                            'small',\n                            null,\n                            React.createElement(\n                                'svg',\n                                { className: 'icon', x: '0px', y: '0px', viewBox: '0 0 20 20', style: { 'enable-background': 'new 0 0 20 20' } },\n                                React.createElement('path', { d: 'M5.8,12.2V6H2C0.9,6,0,6.9,0,8v6c0,1.1,0.9,2,2,2h1v3l3-3h5c1.1,0,2-0.9,2-2v-1.82c-0.064,0.014-0.132,0.021-0.2,0.021h-7 V12.2z M18,1H9C7.9,1,7,1.9,7,3v8h7l3,3v-3h1c1.1,0,2-0.899,2-2V3C20,1.9,19.1,1,18,1z' })\n                            )\n                        ),\n                        'Thank you for your correspondence'\n                    ),\n                    React.createElement(\n                        'p',\n                        { style: { 'text-align': 'center' } },\n                        'Someone from Tyler Web Dev will contact you regarding your inquiry.'\n                    )\n                );\n            }\n        }\n    }]);\n\n    return Form;\n})(React.Component);\n\nexports['default'] = Form;\nmodule.exports = exports['default'];\n\n},{\"./../Intents/nextStep.js\":7,\"./../Intents/submit.js\":8}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _IntentsFormDataJs = require('./../Intents/formData.js');\n\nvar Name = (function (_React$Component) {\n    _inherits(Name, _React$Component);\n\n    function Name() {\n        _classCallCheck(this, Name);\n\n        _get(Object.getPrototypeOf(Name.prototype), 'constructor', this).apply(this, arguments);\n    }\n\n    _createClass(Name, [{\n        key: 'change',\n        value: function change(event) {\n            event.preventDefault();\n            (0, _IntentsFormDataJs.set)('name', event.target.value);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return React.createElement(\n                'label',\n                null,\n                this.props.error || 'Organization Name',\n                React.createElement('input', { ref: 'input', type: 'text', name: 'name', onChange: this.change, value: this.props.formValue })\n            );\n        }\n    }]);\n\n    return Name;\n})(React.Component);\n\nexports['default'] = Name;\nmodule.exports = exports['default'];\n\n},{\"./../Intents/formData.js\":6}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _IntentsFormDataJs = require('./../Intents/formData.js');\n\nvar limit = function limit(len, arr) {\n    return arr.slice(0, len);\n};\n\nvar Phone = (function (_React$Component) {\n    _inherits(Phone, _React$Component);\n\n    function Phone() {\n        _classCallCheck(this, Phone);\n\n        _get(Object.getPrototypeOf(Phone.prototype), 'constructor', this).apply(this, arguments);\n    }\n\n    _createClass(Phone, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.refs.input.getDOMNode().focus();\n        }\n    }, {\n        key: 'change',\n        value: function change(event) {\n            // Remove all non-digits from the input field value\n            (0, _IntentsFormDataJs.set)('phone', limit(10, event.target.value.replace(/\\D/g, '').split('')).join(''));\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return React.createElement(\n                'label',\n                null,\n                this.props.error || 'Phone Number (Numbers Only)',\n                React.createElement('input', { ref: 'input', type: 'text', name: 'phone', onChange: this.change, value: this.props.formValue })\n            );\n        }\n    }]);\n\n    return Phone;\n})(React.Component);\n\nexports['default'] = Phone;\nmodule.exports = exports['default'];\n\n},{\"./../Intents/formData.js\":6}],6:[function(require,module,exports){\n// Streams\n// ------------------------------\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nvar formDataChangeStream = new Rx.Subject();\n\n// Actions\n// ------------------------------\n\nvar set = function set(field, value) {\n    formDataChangeStream.onNext({\n        action: 'setField',\n        field: field,\n        value: value\n    });\n};\n\nexports.set = set;\nexports.formDataChangeStream = formDataChangeStream;\n\n},{}],7:[function(require,module,exports){\n// Streams\n// ------------------------------\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar stepTransitionClickStream = new Rx.Subject();\n\n// Actions\n// ------------------------------\n\nvar nextStep = function nextStep() {\n    stepTransitionClickStream.onNext({\n        action: \"nextStep\"\n    });\n};\n\nvar prevStep = function prevStep() {\n    stepTransitionClickStream.onNext({\n        action: 'prevStep'\n    });\n};\n\nvar goTo = function goTo(step) {\n    stepTransitionClickStream.onNext({\n        action: \"goToStep\",\n        step: step\n    });\n};\n\nexports.nextStep = nextStep;\nexports.prevStep = prevStep;\nexports.goTo = goTo;\nexports.stepTransitionClickStream = stepTransitionClickStream;\n\n},{}],8:[function(require,module,exports){\n// Streams\n// ------------------------------\n\n// -Click-------------Click--------------> Submit Button Clicks        | Event\n// -Emit--------------Emit---------------> Dispatch 'try'              | Action\n// -------------------------Success------> Dispatch 'success' response | Action\n// --------Errors------------------------> Dispatch 'failure' response | Action\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nvar submitClickStream = new Rx.Subject();\n\nvar submitNotifyStream = submitClickStream.map({\n    action: 'trySubmit'\n});\n\nvar submitResponseStream = submitClickStream.flatMapLatest(function (formData) {\n    return Rx.Observable.fromPromise(postFormData(formData));\n}).map(function (response) {\n    if (response !== 'ok') {\n        return {\n            action: 'submitFailure',\n            errors: response\n        };\n    } else {\n        return {\n            action: 'submitSuccess'\n        };\n    }\n});\n\n// Actions\n// ------------------------------\n\nvar submit = function submit(formData) {\n    submitClickStream.onNext(formData);\n};\n\nvar postFormData = function postFormData(formData) {\n    var headers = {\n        method: 'post',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n    };\n\n    return fetch('/', headers).then(function (response) {\n        if (response.status === 200) return 'ok';else return response.json();\n    });\n};\n\nexports.submit = submit;\nexports.submitNotifyStream = submitNotifyStream;\nexports.submitResponseStream = submitResponseStream;\n\n},{}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _ComponentsNameStepJsx = require('./../Components/NameStep.jsx');\n\nvar _ComponentsNameStepJsx2 = _interopRequireDefault(_ComponentsNameStepJsx);\n\nvar _ComponentsEmailStepJsx = require('./../Components/EmailStep.jsx');\n\nvar _ComponentsEmailStepJsx2 = _interopRequireDefault(_ComponentsEmailStepJsx);\n\nvar _ComponentsPhoneStepJsx = require('./../Components/PhoneStep.jsx');\n\nvar _ComponentsPhoneStepJsx2 = _interopRequireDefault(_ComponentsPhoneStepJsx);\n\nvar _ComponentsCauseStepJsx = require('./../Components/CauseStep.jsx');\n\nvar _ComponentsCauseStepJsx2 = _interopRequireDefault(_ComponentsCauseStepJsx);\n\nvar _IntentsNextStepJs = require('./../Intents/nextStep.js');\n\nvar _IntentsFormDataJs = require('./../Intents/formData.js');\n\nvar _IntentsSubmitJs = require('./../Intents/submit.js');\n\nvar initialState = Immutable.fromJS({\n    processingAjax: false,\n    formComplete: false,\n    canSubmit: false,\n    currentStep: 0,\n    formData: {\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        cause: \"\"\n    },\n    steps: [{\n        name: \"name\",\n        error: false,\n        component: _ComponentsNameStepJsx2['default']\n    }, {\n        name: \"email\",\n        error: false,\n        component: _ComponentsEmailStepJsx2['default']\n    }, {\n        name: \"phone\",\n        error: false,\n        component: _ComponentsPhoneStepJsx2['default']\n    }, {\n        name: \"cause\",\n        error: false,\n        component: _ComponentsCauseStepJsx2['default']\n    }]\n});\n\nvar updateState = function updateState(state, action) {\n    switch (action.action) {\n        // After the first action, we want to enable submitting from any step - so they can fix\n        // their errors. Also set 'processing' to true so we can show a spinner. But it's probably unnecessary\n        // because it happens so fast\n        case 'trySubmit':\n            return state.withMutations(function (state) {\n                state.set('canSubmit', true);\n                state.set('processingAjax', true);\n            });\n        // In the event of a failure, merge the errors back into the state and show that we're done with\n        // the AJAX request\n        case 'submitFailure':\n            return state.withMutations(function (state) {\n                var newSteps = state.get('steps').map(function (step, key) {\n                    return step.set('error', action.errors[step.get('name')] ? action.errors[step.get('name')][0] : false);\n                });\n\n                state.set('processingAjax', false);\n                state.set('steps', newSteps);\n            });\n        // In the event of a success, close down the form and show the user a success message\n        case 'submitSuccess':\n            return state.set('formComplete', true);\n        // When we update a field, set it on the state and proceed\n        case 'setField':\n            return state.updateIn(['formData', action.field], function (value) {\n                return action.value;\n            });\n        // When we want to advance, make sure we're going forward to a step that actually exists,\n        // otherwise do nothing at all\n        case 'nextStep':\n            if (state.get('currentStep') < state.get('steps').count() - 1) return state.set('currentStep', state.get('currentStep') + 1);else return state;\n        // Whe we want to go back, make sure we're not going into the negative indeces,\n        // otherwise do nothing\n        case 'prevStep':\n            if (state.get('currentStep') > 0) return state.set('currentStep', state.get('currentStep') - 1);else return state;\n        // When we want to go directly to a step, just do it. Nothing bad could ever happen, right?\n        case 'goToStep':\n            return state.set('currentStep', action.step);\n    }\n};\n\nvar state = Rx.Observable.merge(_IntentsNextStepJs.stepTransitionClickStream, _IntentsFormDataJs.formDataChangeStream, _IntentsSubmitJs.submitNotifyStream, _IntentsSubmitJs.submitResponseStream).scan(updateState, initialState).startWith(initialState);\n\nexports.state = state;\n\n},{\"./../Components/CauseStep.jsx\":1,\"./../Components/EmailStep.jsx\":2,\"./../Components/NameStep.jsx\":4,\"./../Components/PhoneStep.jsx\":5,\"./../Intents/formData.js\":6,\"./../Intents/nextStep.js\":7,\"./../Intents/submit.js\":8}],10:[function(require,module,exports){\n'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _helpersRestrict_to_pathJs = require('../helpers/restrict_to_path.js');\n\nvar _helpersRestrict_to_pathJs2 = _interopRequireDefault(_helpersRestrict_to_pathJs);\n\nvar _StoreContactFormJs = require('./Store/contactForm.js');\n\nvar _ComponentsFormJsx = require('./Components/Form.jsx');\n\nvar _ComponentsFormJsx2 = _interopRequireDefault(_ComponentsFormJsx);\n\n(0, _helpersRestrict_to_pathJs2['default'])('/', function () {\n    _StoreContactFormJs.state.subscribe(function (state) {\n        ReactDOM.render(React.createElement(_ComponentsFormJsx2['default'], state.toJS()), document.getElementById('form'));\n    });\n});\n\n},{\"../helpers/restrict_to_path.js\":13,\"./Components/Form.jsx\":3,\"./Store/contactForm.js\":9}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Map = (function (_React$Component) {\n  _inherits(Map, _React$Component);\n\n  function Map(props) {\n    _classCallCheck(this, Map);\n\n    _get(Object.getPrototypeOf(Map.prototype), 'constructor', this).call(this, props);\n\n    this.state = {\n      loading: false\n    };\n  }\n\n  _createClass(Map, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.map = new google.maps.Map(this.refs.map, {\n        center: this.props.origin,\n        zoom: 15,\n        mapTypeControl: false,\n        streetViewControl: false,\n        rotateControl: false,\n        scrollwheel: false,\n        draggable: window.innerWidth > 600\n      });\n\n      this.marker = new google.maps.Marker({\n        position: this.props.origin,\n        map: this.map,\n        title: 'Tyler Web Dev'\n      });\n\n      this.directionsDisplay = new google.maps.DirectionsRenderer({\n        map: this.map\n      });\n\n      this.forceUpdate();\n    }\n  }, {\n    key: 'handleEnableDragging',\n    value: function handleEnableDragging() {\n      this.map.setOptions({ draggable: true });\n      this.forceUpdate();\n    }\n  }, {\n    key: 'handleGetDirections',\n    value: function handleGetDirections() {\n      var _this = this;\n\n      this.setState({\n        loading: true\n      }, function () {\n        navigator.geolocation.getCurrentPosition(function (position) {\n          new google.maps.DirectionsService().route({\n            destination: {\n              lat: position.coords.latitude,\n              lng: position.coords.longitude\n            },\n            origin: _this.props.origin,\n            travelMode: google.maps.TravelMode.DRIVING\n          }, function (response, status) {\n            if (status == google.maps.DirectionsStatus.OK) {\n              /**\n               * Display the route on the map.\n               */\n              _this.directionsDisplay.setDirections(response);\n            }\n\n            /**\n             * There was a problem with the route\n             * TODO: nothing?\n             */\n\n            /**\n             * Turn off loading\n             */\n            _this.setState({\n              loading: false\n            });\n          });\n        });\n      });\n    }\n  }, {\n    key: 'renderLoading',\n    value: function renderLoading() {\n      return React.createElement(\n        'div',\n        { className: 'loading' },\n        React.createElement(\n          'div',\n          null,\n          React.createElement('span', null)\n        )\n      );\n    }\n  }, {\n    key: 'renderMap',\n    value: function renderMap() {\n      return React.createElement(\n        'div',\n        null,\n        React.createElement(\n          'div',\n          { className: 'map-controls-container' },\n          this.map && this.map.draggable ? '' : React.createElement(\n            'div',\n            { onClick: this.handleEnableDragging.bind(this), className: 'map-button' },\n            React.createElement('img', { src: '/img/icons/hand.svg', height: '20' })\n          )\n        ),\n        React.createElement('div', { className: 'map', ref: 'map' }),\n        React.createElement(\n          'div',\n          { style: { marginTop: '50px' } },\n          navigator.geolocation ? React.createElement(\n            'a',\n            { className: 'button', onClick: this.handleGetDirections.bind(this) },\n            'Get Directions!'\n          ) : ''\n        )\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement(\n        'div',\n        { className: 'map-component' },\n        this.state.loading ? this.renderLoading() : '',\n        this.renderMap()\n      );\n    }\n  }]);\n\n  return Map;\n})(React.Component);\n\nexports['default'] = Map;\nmodule.exports = exports['default'];\n\n},{}],12:[function(require,module,exports){\n'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _helpersRestrict_to_pathJs = require('../helpers/restrict_to_path.js');\n\nvar _helpersRestrict_to_pathJs2 = _interopRequireDefault(_helpersRestrict_to_pathJs);\n\nvar _ComponentsMapJsx = require('./Components/Map.jsx');\n\nvar _ComponentsMapJsx2 = _interopRequireDefault(_ComponentsMapJsx);\n\n(0, _helpersRestrict_to_pathJs2['default'])('/', function () {\n  ReactDOM.render(React.createElement(_ComponentsMapJsx2['default'], { origin: {\n      lat: 32.285448,\n      lng: -95.280382\n    } }), document.getElementById('map-component'));\n});\n\n},{\"../helpers/restrict_to_path.js\":13,\"./Components/Map.jsx\":11}],13:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = restrict_to_path;\n\nfunction restrict_to_path(path, callback) {\n  if (window.location.pathname === path) {\n    callback();\n  }\n}\n\nmodule.exports = exports[\"default\"];\n\n},{}],14:[function(require,module,exports){\n'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _helpersRestrict_to_pathJs = require('./helpers/restrict_to_path.js');\n\nvar _helpersRestrict_to_pathJs2 = _interopRequireDefault(_helpersRestrict_to_pathJs);\n\n(0, _helpersRestrict_to_pathJs2['default'])('/', function () {\n  document.getElementById('scroll-down-button').addEventListener('click', function () {\n    d3.transition().duration(2000).tween(\"scroll\", scrollTween(window.innerHeight));\n\n    function scrollTween(offset) {\n      return function () {\n        var i = d3.interpolateNumber(window.pageYOffset || document.documentElement.scrollTop, offset);\n        return function (t) {\n          scrollTo(0, i(t));\n        };\n      };\n    }\n  });\n\n  function generateMemberList(response) {\n    var members = response.results;\n    var membersList = document.createElement('ul');\n    membersList.className = 'members-list';\n\n    members.forEach(function (member) {\n      var memberEntry = document.createElement('li');\n      var name = document.createElement('strong');\n      var duration = document.createElement('p');\n      var avatar = document.createElement('div');\n      avatar.className = 'avatar';\n      avatar.style.background = 'url(' + (member.photo_url || '/img/Logo-Placeholder-Inv.png') + ')';\n\n      var nameText = document.createTextNode(member.name);\n\n      name.appendChild(nameText);\n\n      memberEntry.appendChild(avatar);\n      memberEntry.appendChild(name);\n      memberEntry.appendChild(duration);\n\n      membersList.appendChild(memberEntry);\n    });\n\n    document.getElementById('list-wrapper').appendChild(membersList);\n  }\n\n  (function () {\n    /**\n     * =========================================================================\n     * Create the Members List\n     * =========================================================================\n     */\n    fetch('/members').then(function (response) {\n      return response.json();\n    }).then(generateMemberList);\n  })();\n\n  /**\n   * =========================================================================\n   * Create the patterned background\n   * =========================================================================\n   */\n  var pattern = Trianglify({\n    width: window.innerWidth,\n    height: window.innerHeight,\n    x_colors: 'YlGnBu',\n    cell_size: 120\n  });\n\n  var tris = document.getElementById('tris');\n\n  if (window.innerWidth >= 600) {\n    tris.appendChild(pattern.svg());\n\n    d3.select('#tris > svg').selectAll('path').attr('opacity', 0).attr('stroke-opacity', 0).transition().delay(function (d, i) {\n      return Math.floor(Math.random() * 1000) + 1;\n    }).duration(2500).attr('opacity', 1).attr('stroke-opacity', 1);\n\n    window.onresize = function () {\n      tris.removeChild(tris.lastChild);\n      tris.appendChild(pattern.svg());\n    };\n  } else {\n    tris.appendChild(pattern.canvas());\n\n    window.onresize = function () {\n      tris.removeChild(tris.lastChild);\n      tris.appendChild(pattern.svg());\n    };\n  }\n\n  /**\n   * TODO: setup websocket server.\n   */\n  if (false) (function () {\n    /**\n     * =========================================================================\n     * Play around with nyan cats\n     * =========================================================================\n     */\n\n    // Setup a container for nyans\n    var initialNyans = {};\n\n    // Establish a WS connection to the nyan dispatcher\n    var socket = io('http://localhost:9000');\n\n    // Wrap the WS in an RX stream\n    var eventStream = Rx.Observable.create(function (observer) {\n      socket.on('event', function (data) {\n        observer.onNext(data);\n      });\n    });\n\n    // Establish an event stream that pushes mouse positions to the nyan dispatcher\n    // on 100 ms intervals\n    var movementStream = Rx.Observable.fromEvent(document.body, 'mousemove').map(function (event) {\n      return {\n        x: event.pageX,\n        y: event.pageY\n      };\n    }).scan(function (coordWithHistory, newCoord) {\n      return {\n        prevX: coordWithHistory.x || 0,\n        prevY: coordWithHistory.y || 0,\n        x: newCoord.x,\n        y: newCoord.y\n      };\n    }).sample(100);\n\n    // Given a current nyanState and an event packet, figure out what to do\n    var updateNyans = function updateNyans(nyanState, eventPacket) {\n      switch (eventPacket.action) {\n        case 'disconnect':\n          delete nyanState[eventPacket.source];\n\n          return nyanState;\n        case 'move':\n          nyanState[eventPacket.source] = {\n            x: eventPacket.packet.x,\n            y: eventPacket.packet.y,\n            rot: Math.atan2(eventPacket.packet.x - eventPacket.packet.prevX, eventPacket.packet.y - eventPacket.packet.prevY) / (Math.PI / 180)\n          };\n\n          return nyanState;\n      }\n    };\n\n    // Listen to the event stream from the WS and update the nyanState depending\n    // on what it says is going on in the rest of the world\n    var nyanState = eventStream.scan(updateNyans, initialNyans).startWith(initialNyans);\n\n    // Every time we move the mouse on a 100 ms interval, alert the nyan dispatcher\n    // that we've moved our mouse so it can tell everyone else\n    movementStream.subscribe(function (coord) {\n      socket.emit('move', coord);\n    });\n\n    // Whenver the nyanState changes, redraw all the nyans\n    nyanState.subscribe(function (nyanCats) {\n      for (nyan in nyanCats) {\n        var cat = document.getElementById(nyan);\n\n        if (cat === null) {\n          cat = document.createElement('div');\n          cat.id = nyan;\n          cat.className = 'nyan';\n\n          document.getElementById('nyans').appendChild(cat);\n        }\n\n        cat.style.left = nyanCats[nyan].x + 'px';\n        cat.style.top = nyanCats[nyan].y + 'px';\n      }\n    });\n  })();\n});\n\n},{\"./helpers/restrict_to_path.js\":13}],15:[function(require,module,exports){\n'use strict';\n\nrequire('./home');\nrequire('./Form/app');\nrequire('./Map/app');\n\n},{\"./Form/app\":10,\"./Map/app\":12,\"./home\":14}]},{},[15]);\n"],"file":"main.js","sourceRoot":"/source/"}